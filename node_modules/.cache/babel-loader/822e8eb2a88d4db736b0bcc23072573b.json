{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import { Link } from \"react-router-dom\";\n\nimport ReactPaginate from \"react-paginate\";\nimport Swal from \"sweetalert2\";\n\nconst AdminAllCourses = () => {\n  _s();\n\n  const [fetchData, setFetchData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const coursesPerPage = 9;\n  useEffect(() => {\n    const getCourses = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`);\n        const data = await response.json();\n        setFetchData(data);\n      } catch (error) {\n        console.error(\"Error fetching courses:\", error);\n      }\n    };\n\n    getCourses();\n  }, []);\n\n  const handlePageChange = ({\n    selected\n  }) => {\n    window.scrollTo({\n      top: 250,\n      behavior: \"smooth\"\n    });\n    setCurrentPage(selected);\n  };\n\n  const totalCourses = fetchData.length;\n  const pageCount = Math.ceil(totalCourses / coursesPerPage);\n\n  const renderCourses = () => {\n    const startIndex = currentPage * coursesPerPage;\n    const selectedCourses = fetchData.slice(startIndex, startIndex + coursesPerPage);\n    return selectedCourses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"course-name text-start m-0\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: course.courseData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn2  ${course.active ? \"btn-deactivate\" : \"btn-activate\"} me-2`,\n          onClick: () => handleActivateCourse(course.active, course.id),\n          children: course.active ? \"Deactivate\" : \"Activate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn2 btn-modify me-2\",\n          onClick: () => handleModify(course.id),\n          children: \"Modify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn2 btn-delete me-2\",\n          onClick: () => handleDelete(course.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)]\n    }, course.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this));\n  }; ////////////////////////////\n  // MANAGE ACTIVATION\n  ////////////////////////////\n\n\n  const handleActivateCourse = async (courseStatus, courseId) => {\n    const action = courseStatus ? \"Desactivar\" : \"Activar\";\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea ${action} este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Activate\",\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleCourseStatus(courseStatus, courseId);\n      }\n    });\n  };\n\n  const handleCourseStatus = async (courseStatus, courseId) => {\n    console.log(\"Course\", courseStatus, courseId);\n\n    if (courseStatus === true) {\n      console.log(\"try to ACTIVATE \");\n\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso desactivado con éxito!\",\n            text: `El curso ha sido desactivado exitosamente.`,\n            showConfirmButton: false,\n            timer: 1000\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          title: \"¡Error de procesamiento de activacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    } else {\n      console.log(\"try to ACTIVATE \");\n\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso activado con éxito!\",\n            text: `El curso ha sido activado exitosamente.`,\n            showConfirmButton: false,\n            timer: 2500\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          title: \"¡Error de procesamiento de desactivacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    }\n  }; ////////////////////////////\n  // COURSE DELETE\n  ////////////////////////////\n\n\n  const handleDeleteCourse = async courseId => {\n    Swal.fire({\n      position: \"top-end\",\n      icon: \"success\",\n      title: \"¡Curso eliminado con éxito!\",\n      text: `El curso ha sido eliminado exitosamente.`,\n      showConfirmButton: false,\n      timer: 2500\n    }).then(() => {\n      window.location.href = \"/administrar-todos\";\n    });\n  };\n\n  const handleDelete = courseId => {\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea eliminar este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Activate\",\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleDeleteCourse(courseId);\n      }\n    });\n  }; ////////////////////////////\n  // REDIRECT TO MODIFY\n  ////////////////////////////\n\n\n  const handleModify = id => {\n    window.location.href = `/modify/${id}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [renderCourses(), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      className: \"pagination\",\n      previousLabel: \"Previous\",\n      nextLabel: \"Next\",\n      breakLabel: \"...\",\n      pageCount: pageCount,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: handlePageChange,\n      containerClassName: \"pagination\",\n      activeClassName: \"active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdminAllCourses, \"l6aKGHIfCy7o/Kh9dgdLB70z48U=\");\n\n_c = AdminAllCourses;\nexport default AdminAllCourses;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminAllCourses\");","map":{"version":3,"sources":["/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js"],"names":["React","useEffect","useState","ReactPaginate","Swal","AdminAllCourses","fetchData","setFetchData","currentPage","setCurrentPage","coursesPerPage","getCourses","response","fetch","process","env","REACT_APP_ROOT_URL","REACT_APP_COURSES_GET_ALL","data","json","error","console","handlePageChange","selected","window","scrollTo","top","behavior","totalCourses","length","pageCount","Math","ceil","renderCourses","startIndex","selectedCourses","slice","map","course","courseData","name","active","handleActivateCourse","id","handleModify","handleDelete","courseStatus","courseId","action","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","handleCourseStatus","log","REACT_APP_COURSES_DEACTIVATE","method","headers","ok","position","showConfirmButton","timer","location","href","REACT_APP_COURSES_ACTIVATE","handleDeleteCourse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport Swal from \"sweetalert2\";\n\nconst AdminAllCourses = () => {\n\tconst [fetchData, setFetchData] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(0);\n\tconst coursesPerPage = 9;\n\n\tuseEffect(() => {\n\t\tconst getCourses = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n\t\t\t\t);\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetFetchData(data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error fetching courses:\", error);\n\t\t\t}\n\t\t};\n\n\t\tgetCourses();\n\t}, []);\n\n\tconst handlePageChange = ({ selected }) => {\n\t\twindow.scrollTo({\n\t\t\ttop: 250,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t\tsetCurrentPage(selected);\n\t};\n\n\tconst totalCourses = fetchData.length;\n\tconst pageCount = Math.ceil(totalCourses / coursesPerPage);\n\n\tconst renderCourses = () => {\n\t\tconst startIndex = currentPage * coursesPerPage;\n\t\tconst selectedCourses = fetchData.slice(\n\t\t\tstartIndex,\n\t\t\tstartIndex + coursesPerPage\n\t\t);\n\n\t\treturn selectedCourses.map((course) => (\n\t\t\t<div\n\t\t\t\tkey={course.id}\n\t\t\t\tclassName=\"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\"\n\t\t\t>\n\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\">\n\t\t\t\t\t<p className=\"course-name text-start m-0\">\n\t\t\t\t\t\t<strong>{course.courseData.name}</strong>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn2  ${course.active ? \"btn-deactivate\" : \"btn-activate\"\n\t\t\t\t\t\t\t} me-2`}\n\t\t\t\t\t\tonClick={() => handleActivateCourse(course.active, course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{course.active ? \"Deactivate\" : \"Activate\"}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-modify me-2\"\n\t\t\t\t\t\tonClick={() => handleModify(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\tModify\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-delete me-2\"\n\t\t\t\t\t\tonClick={() => handleDelete(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n\t};\n\n\t////////////////////////////\n\t// MANAGE ACTIVATION\n\t////////////////////////////\n\tconst handleActivateCourse = async (courseStatus, courseId) => {\n\t\tconst action = courseStatus ? \"Desactivar\" : \"Activar\";\n\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea ${action} este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Activate\",\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleCourseStatus(courseStatus, courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleCourseStatus = async (courseStatus, courseId) => {\n\t\tconsole.log(\"Course\", courseStatus, courseId);\n\n\t\tif (courseStatus === true) {\n\t\t\tconsole.log(\"try to ACTIVATE \")\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso desactivado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido desactivado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 1000,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de activacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(\"try to ACTIVATE \")\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso activado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido activado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 2500,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de desactivacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\t////////////////////////////\n\t// COURSE DELETE\n\t////////////////////////////\n\tconst handleDeleteCourse = async (courseId) => {\n\t\tSwal.fire({\n\t\t\tposition: \"top-end\",\n\t\t\ticon: \"success\",\n\t\t\ttitle: \"¡Curso eliminado con éxito!\",\n\t\t\ttext: `El curso ha sido eliminado exitosamente.`,\n\t\t\tshowConfirmButton: false,\n\t\t\ttimer: 2500,\n\t\t}).then(() => {\n\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t});\n\t}\n\n\tconst handleDelete = (courseId) => {\n\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea eliminar este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Activate\",\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleDeleteCourse(courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\t////////////////////////////\n\t// REDIRECT TO MODIFY\n\t////////////////////////////\n\tconst handleModify = (id) => {\n\t\twindow.location.href = `/modify/${id}`;\n\n\t};\n\n\treturn (\n\t\t<div className=\"container mt-4\">\n\t\t\t{renderCourses()}\n\t\t\t<ReactPaginate\n\t\t\t\tclassName=\"pagination\"\n\t\t\t\tpreviousLabel={\"Previous\"}\n\t\t\t\tnextLabel={\"Next\"}\n\t\t\t\tbreakLabel={\"...\"}\n\t\t\t\tpageCount={pageCount}\n\t\t\t\tmarginPagesDisplayed={2}\n\t\t\t\tpageRangeDisplayed={5}\n\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\tcontainerClassName={\"pagination\"}\n\t\t\t\tactiveClassName={\"active\"}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nexport default AdminAllCourses;\n"]},"metadata":{},"sourceType":"module"}