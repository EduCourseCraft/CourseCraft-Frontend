{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import { Link } from \"react-router-dom\";\n\nimport ReactPaginate from \"react-paginate\";\nimport Swal from \"sweetalert2\";\nimport DataTable, { createTheme } from 'react-data-table-component';\n\nconst AdminAllCourses = () => {\n  _s();\n\n  const [coursesData, setCoursesData] = useState([]);\n\n  const showCoursesData = async () => {\n    const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`);\n    const data = await response.json();\n    console.log(data);\n    setCoursesData(data);\n  };\n\n  useEffect(() => {\n    showCoursesData();\n  }, []);\n  const columns = [{\n    name: 'ID',\n    selector: row => row.id\n  }, {\n    name: 'NAME',\n    selector: row => row.courseData.name\n  }, {\n    name: 'Duration',\n    selector: row => row.courseData.duration\n  }];\n  createTheme('tradeTheme', {\n    text: {\n      primary: '#268bd2',\n      secondary: '#2aa198'\n    },\n    background: {\n      default: '#002b36'\n    },\n    context: {\n      background: '#cb4b16',\n      text: '#FFFFFF'\n    },\n    divider: {\n      default: '#073642'\n    },\n    action: {\n      button: 'rgba(0,0,0,.54)',\n      hover: 'rgba(0,0,0,.08)',\n      disabled: 'rgba(0,0,0,.12)'\n    }\n  }, 'dark');\n  const [fetchData, setFetchData] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const coursesPerPage = 9;\n  useEffect(() => {\n    const getCourses = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`);\n        const data = await response.json();\n        setFetchData(data);\n      } catch (error) {\n        console.error(\"Error fetching courses:\", error);\n      }\n    };\n\n    getCourses();\n  }, []);\n\n  const handlePageChange = ({\n    selected\n  }) => {\n    window.scrollTo({\n      top: 250,\n      behavior: \"smooth\"\n    });\n    setCurrentPage(selected);\n  };\n\n  const totalCourses = fetchData.length;\n  const pageCount = Math.ceil(totalCourses / coursesPerPage);\n\n  const renderCourses = () => {\n    const startIndex = currentPage * coursesPerPage;\n    const selectedCourses = fetchData.slice(startIndex, startIndex + coursesPerPage);\n    return selectedCourses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"course-name text-start m-0\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: course.courseData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn-status  ${course.active ? \"btn-deactivate\" : \"btn-activate\"} me-2`,\n          onClick: () => handleActivateCourse(course.active, course.id),\n          children: course.active ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"toggle-off fa fa-power-off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"toggle-on fa fa-power-off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn2 btn-modify me-2\",\n          onClick: () => handleModify(course.id),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn2 btn-delete me-2\",\n          onClick: () => handleDelete(course.id),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)]\n    }, course.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this));\n  }; ////////////////////////////\n  // MANAGE ACTIVATION\n  ////////////////////////////\n\n\n  const handleActivateCourse = async (courseStatus, courseId) => {\n    const action = courseStatus ? \"Desactivar\" : \"Activar\";\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea ${action} este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Activate\",\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleCourseStatus(courseStatus, courseId);\n      }\n    });\n  };\n\n  const handleCourseStatus = async (courseStatus, courseId) => {\n    console.log(\"Course\", courseStatus, courseId);\n\n    if (courseStatus === true) {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}/${courseId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso desactivado con éxito!\",\n            text: `El curso ha sido desactivado exitosamente.`,\n            showConfirmButton: false,\n            timer: 1000\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        Swal.fire({\n          title: \"¡Error de procesamiento de activacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    } else {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}/${courseId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso activado con éxito!\",\n            text: `El curso ha sido activado exitosamente.`,\n            showConfirmButton: false,\n            timer: 2500\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          title: \"¡Error de procesamiento de desactivacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    }\n  }; ////////////////////////////\n  // COURSE DELETE\n  ////////////////////////////\n\n\n  const handleDeleteCourse = async courseId => {\n    Swal.fire({\n      position: \"top-end\",\n      icon: \"success\",\n      title: \"¡Curso eliminado con éxito!\",\n      text: `El curso ha sido eliminado exitosamente.`,\n      showConfirmButton: false,\n      timer: 2500\n    }).then(() => {\n      window.location.href = \"/administrar-todos\";\n    });\n  };\n\n  const handleDelete = courseId => {\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea eliminar este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Activate\",\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleDeleteCourse(courseId);\n      }\n    });\n  }; ////////////////////////////\n  // REDIRECT TO MODIFY\n  ////////////////////////////\n\n\n  const handleModify = id => {\n    window.location.href = `/modify/${id}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: coursesData,\n      pagination: true,\n      theme: \"tradeTheme\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdminAllCourses, \"tDLy/+CypSYOi1yPIdSY6axXOQI=\");\n\n_c = AdminAllCourses;\nexport default AdminAllCourses;\n/* \n\n\treturn (\n\t\t<div className=\"container mt-4\">\n\t\t\t{renderCourses()}\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-6 text-center\">\n\t\t\t\t\t<ReactPaginate\n\t\t\t\t\t\tpreviousLabel={\"Previous\"}\n\t\t\t\t\t\tnextLabel={\"Next\"}\n\t\t\t\t\t\tbreakLabel={\"...\"}\n\t\t\t\t\t\tpageCount={pageCount}\n\t\t\t\t\t\tmarginPagesDisplayed={2}\n\t\t\t\t\t\tpageRangeDisplayed={5}\n\t\t\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\t\t\tcontainerClassName={\"pagination\"}\n\t\t\t\t\t\tactiveClassName={\"active\"}\n\t\t\t\t\t\tpageClassName={\"page-item\"}\n\t\t\t\t\t\tpageLinkClassName={\"page-link\"}\n\t\t\t\t\t\tpreviousClassName={\"page-item\"}\n\t\t\t\t\t\tpreviousLinkClassName={\"page-link\"}\n\t\t\t\t\t\tnextClassName={\"page-item\"}\n\t\t\t\t\t\tnextLinkClassName={\"page-link\"}\n\t\t\t\t\t\tbreakClassName={\"page-item\"}\n\t\t\t\t\t\tbreakLinkClassName={\"page-link\"}\n\t\t\t\t\t\tdisabledClassName={\"disabled\"}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminAllCourses\");","map":{"version":3,"sources":["/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js"],"names":["React","useEffect","useState","ReactPaginate","Swal","DataTable","createTheme","AdminAllCourses","coursesData","setCoursesData","showCoursesData","response","fetch","process","env","REACT_APP_ROOT_URL","REACT_APP_COURSES_GET_ALL","data","json","console","log","columns","name","selector","row","id","courseData","duration","text","primary","secondary","background","default","context","divider","action","button","hover","disabled","fetchData","setFetchData","currentPage","setCurrentPage","coursesPerPage","getCourses","error","handlePageChange","selected","window","scrollTo","top","behavior","totalCourses","length","pageCount","Math","ceil","renderCourses","startIndex","selectedCourses","slice","map","course","active","handleActivateCourse","handleModify","handleDelete","courseStatus","courseId","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","handleCourseStatus","REACT_APP_COURSES_DEACTIVATE","method","headers","ok","position","showConfirmButton","timer","location","href","REACT_APP_COURSES_ACTIVATE","handleDeleteCourse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport Swal from \"sweetalert2\";\nimport DataTable, { createTheme } from 'react-data-table-component'\n\nconst AdminAllCourses = () => {\n\n\tconst [coursesData, setCoursesData] = useState([])\n\n\tconst showCoursesData = async () => {\n\t\tconst response = await fetch(\n\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n\t\t);\n\t\tconst data = await response.json();\n\t\tconsole.log(data)\n\t\tsetCoursesData(data);\n\t}\n\n\n\tuseEffect(() => {\n\t\tshowCoursesData()\n\t}, [])\n\n\n\tconst columns = [\n\t\t{\n\t\t\tname: 'ID',\n\t\t\tselector: row => row.id\n\t\t},\n\t\t{\n\t\t\tname: 'NAME',\n\t\t\tselector: row => row.courseData.name\n\t\t},\n\t\t{\n\t\t\tname: 'Duration',\n\t\t\tselector: row => row.courseData.duration\n\t\t},\n\t]\n\n\tcreateTheme('tradeTheme', {\n  text: {\n    primary: '#268bd2',\n    secondary: '#2aa198',\n  },\n  background: {\n    default: '#002b36',\n  },\n  context: {\n    background: '#cb4b16',\n    text: '#FFFFFF',\n  },\n  divider: {\n    default: '#073642',\n  },\n  action: {\n    button: 'rgba(0,0,0,.54)',\n    hover: 'rgba(0,0,0,.08)',\n    disabled: 'rgba(0,0,0,.12)',\n  },\n}, 'dark');\n\n\tconst [fetchData, setFetchData] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(0);\n\tconst coursesPerPage = 9;\n\n\tuseEffect(() => {\n\t\tconst getCourses = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n\t\t\t\t);\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetFetchData(data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error fetching courses:\", error);\n\t\t\t}\n\t\t};\n\n\t\tgetCourses();\n\t}, []);\n\n\tconst handlePageChange = ({ selected }) => {\n\t\twindow.scrollTo({\n\t\t\ttop: 250,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t\tsetCurrentPage(selected);\n\t};\n\n\tconst totalCourses = fetchData.length;\n\tconst pageCount = Math.ceil(totalCourses / coursesPerPage);\n\n\tconst renderCourses = () => {\n\t\tconst startIndex = currentPage * coursesPerPage;\n\t\tconst selectedCourses = fetchData.slice(\n\t\t\tstartIndex,\n\t\t\tstartIndex + coursesPerPage\n\t\t);\n\n\t\treturn selectedCourses.map((course) => (\n\t\t\t<div\n\t\t\t\tkey={course.id}\n\t\t\t\tclassName=\"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\"\n\t\t\t>\n\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\">\n\t\t\t\t\t<p className=\"course-name text-start m-0\">\n\t\t\t\t\t\t<strong>{course.courseData.name}</strong>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn-status  ${course.active ? \"btn-deactivate\" : \"btn-activate\"\n\t\t\t\t\t\t\t} me-2`}\n\t\t\t\t\t\tonClick={() => handleActivateCourse(course.active, course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{course.active ? (<i className=\"toggle-off fa fa-power-off\"></i>) : (<i className=\"toggle-on fa fa-power-off\"></i>)}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-modify me-2\"\n\t\t\t\t\t\tonClick={() => handleModify(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-delete me-2\"\n\t\t\t\t\t\tonClick={() => handleDelete(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n\t};\n\n\t////////////////////////////\n\t// MANAGE ACTIVATION\n\t////////////////////////////\n\tconst handleActivateCourse = async (courseStatus, courseId) => {\n\t\tconst action = courseStatus ? \"Desactivar\" : \"Activar\";\n\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea ${action} este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Activate\",\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleCourseStatus(courseStatus, courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleCourseStatus = async (courseStatus, courseId) => {\n\t\tconsole.log(\"Course\", courseStatus, courseId);\n\n\t\tif (courseStatus === true) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}/${courseId}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso desactivado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido desactivado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 1000,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de activacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}/${courseId}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso activado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido activado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 2500,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de desactivacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\t////////////////////////////\n\t// COURSE DELETE\n\t////////////////////////////\n\tconst handleDeleteCourse = async (courseId) => {\n\t\tSwal.fire({\n\t\t\tposition: \"top-end\",\n\t\t\ticon: \"success\",\n\t\t\ttitle: \"¡Curso eliminado con éxito!\",\n\t\t\ttext: `El curso ha sido eliminado exitosamente.`,\n\t\t\tshowConfirmButton: false,\n\t\t\ttimer: 2500,\n\t\t}).then(() => {\n\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t});\n\t};\n\n\tconst handleDelete = (courseId) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea eliminar este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Activate\",\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleDeleteCourse(courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\t////////////////////////////\n\t// REDIRECT TO MODIFY\n\t////////////////////////////\n\tconst handleModify = (id) => {\n\t\twindow.location.href = `/modify/${id}`;\n\t};\n\n\treturn (\n\t\t<div>\n\n\t\t\t<DataTable\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={coursesData}\n\t\t\t\tpagination\n\t\t\t\ttheme={\"tradeTheme\"}\n\t\t\t/>\n\n\n\t\t</div>\n\n\n\t)\n};\nexport default AdminAllCourses;\n\n\n\n\n/* \n\n\treturn (\n\t\t<div className=\"container mt-4\">\n\t\t\t{renderCourses()}\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-6 text-center\">\n\t\t\t\t\t<ReactPaginate\n\t\t\t\t\t\tpreviousLabel={\"Previous\"}\n\t\t\t\t\t\tnextLabel={\"Next\"}\n\t\t\t\t\t\tbreakLabel={\"...\"}\n\t\t\t\t\t\tpageCount={pageCount}\n\t\t\t\t\t\tmarginPagesDisplayed={2}\n\t\t\t\t\t\tpageRangeDisplayed={5}\n\t\t\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\t\t\tcontainerClassName={\"pagination\"}\n\t\t\t\t\t\tactiveClassName={\"active\"}\n\t\t\t\t\t\tpageClassName={\"page-item\"}\n\t\t\t\t\t\tpageLinkClassName={\"page-link\"}\n\t\t\t\t\t\tpreviousClassName={\"page-item\"}\n\t\t\t\t\t\tpreviousLinkClassName={\"page-link\"}\n\t\t\t\t\t\tnextClassName={\"page-item\"}\n\t\t\t\t\t\tnextLinkClassName={\"page-link\"}\n\t\t\t\t\t\tbreakClassName={\"page-item\"}\n\t\t\t\t\t\tbreakLinkClassName={\"page-link\"}\n\t\t\t\t\t\tdisabledClassName={\"disabled\"}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n*/"]},"metadata":{},"sourceType":"module"}