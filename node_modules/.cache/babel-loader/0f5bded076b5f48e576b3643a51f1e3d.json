{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport DataTable, { createTheme } from \"react-data-table-component\";\n\nconst AdminAllCourses = () => {\n  _s();\n\n  const [coursesData, setCoursesData] = useState([]);\n\n  const showCoursesData = async () => {\n    const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`);\n    const data = await response.json();\n    console.log(data);\n    setCoursesData(data);\n  };\n\n  useEffect(() => {\n    showCoursesData();\n  }, []);\n  const columns = [{\n    name: \"Nombre\",\n    selector: row => row.courseData.name,\n    minWidth: \"300px\"\n  }, {\n    name: \"Modulos\",\n    selector: row => row.courseData.modules.length\n  }, {\n    name: \"Duracion\",\n    selector: row => `${row.courseData.duration} hs`\n  }, {\n    name: \"Estado\",\n    selector: row => row.active ? \"Activo\" : \"Inactivo\",\n    conditionalCellStyles: [{\n      when: row => !row.active,\n      style: {\n        color: \"red\"\n      }\n    }, {\n      when: row => row.active,\n      style: {\n        color: \"green\"\n      }\n    }]\n  }, {\n    name: \"Acciones\",\n    cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn-status ${row.active ? \"btn-deactivate\" : \"btn-activate\"} me-2`,\n        onClick: () => handleActivateCourse(row.active, row.id),\n        children: row.active ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"toggle-off fa fa-power-off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"toggle-on fa fa-power-off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn2 btn-modify me-2\",\n        onClick: () => handleModify(row.id),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn2 btn-delete me-2\",\n        onClick: () => handleDelete(row.id),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this),\n    ignoreRowClick: true,\n    button: true,\n    minWidth: \"210px\"\n  }];\n  createTheme(\"tradeTheme\", {\n    text: {\n      primary: \"#333333\",\n      secondary: \"#ff5421\"\n    },\n    background: {\n      default: \"#f0f0f0\"\n    },\n    context: {\n      background: \"#ffae42\",\n      text: \"#000000\"\n    },\n    divider: {\n      default: \"#cccccc\"\n    },\n    action: {\n      button: \"#ff5421\",\n      hover: \"#ff8c66\",\n      disabled: \"#999999\"\n    }\n  }, \"light\");\n  /* \tconst customPaginationText = {\n  \t\trowsPerPage: \"Filas por página\",\n  \t};\n  \n  \tconst [fetchData, setFetchData] = useState([]);\n  \tconst [currentPage, setCurrentPage] = useState(0);\n  \tconst coursesPerPage = 9;\n  \n  \tuseEffect(() => {\n  \t\tconst getCourses = async () => {\n  \t\t\ttry {\n  \t\t\t\tconst response = await fetch(\n  \t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n  \t\t\t\t);\n  \t\t\t\tconst data = await response.json();\n  \t\t\t\tsetFetchData(data);\n  \t\t\t} catch (error) {\n  \t\t\t\tconsole.error(\"Error fetching courses:\", error);\n  \t\t\t}\n  \t\t};\n  \n  \t\tgetCourses();\n  \t}, []);\n   */\n\n  /* \tconst handlePageChange = ({ selected }) => {\n  \t\twindow.scrollTo({\n  \t\t\ttop: 250,\n  \t\t\tbehavior: \"smooth\",\n  \t\t});\n  \t\tsetCurrentPage(selected);\n  \t};\n  \n  \tconst totalCourses = fetchData.length;\n  \tconst pageCount = Math.ceil(totalCourses / coursesPerPage);\n  \n  \tconst renderCourses = () => {\n  \t\tconst startIndex = currentPage * coursesPerPage;\n  \t\tconst selectedCourses = fetchData.slice(\n  \t\t\tstartIndex,\n  \t\t\tstartIndex + coursesPerPage\n  \t\t);\n  \n  \t\treturn selectedCourses.map((course) => (\n  \t\t\t<div\n  \t\t\t\tkey={course.id}\n  \t\t\t\tclassName=\"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\"\n  \t\t\t>\n  \t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\">\n  \t\t\t\t\t<p className=\"course-name text-start m-0\">\n  \t\t\t\t\t\t<strong>{course.courseData.name}</strong>\n  \t\t\t\t\t</p>\n  \t\t\t\t</div>\n  \n  \t\t\t\t<div className=\"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\">\n  \t\t\t\t\t<button\n  \t\t\t\t\t\tclassName={`btn-status  ${course.active ? \"btn-deactivate\" : \"btn-activate\"\n  \t\t\t\t\t\t\t} me-2`}\n  \t\t\t\t\t\tonClick={() => handleActivateCourse(course.active, course.id)}\n  \t\t\t\t\t>\n  \t\t\t\t\t\t{course.active ? (\n  \t\t\t\t\t\t\t<i className=\"toggle-off fa fa-power-off\"></i>\n  \t\t\t\t\t\t) : (\n  \t\t\t\t\t\t\t<i className=\"toggle-on fa fa-power-off\"></i>\n  \t\t\t\t\t\t)}\n  \t\t\t\t\t</button>\n  \n  \t\t\t\t\t<button\n  \t\t\t\t\t\tclassName=\"btn2 btn-modify me-2\"\n  \t\t\t\t\t\tonClick={() => handleModify(course.id)}\n  \t\t\t\t\t>\n  \t\t\t\t\t\t<i className=\"fa fa-edit\"></i>\n  \t\t\t\t\t</button>\n  \n  \t\t\t\t\t<button\n  \t\t\t\t\t\tclassName=\"btn2 btn-delete me-2\"\n  \t\t\t\t\t\tonClick={() => handleDelete(course.id)}\n  \t\t\t\t\t>\n  \t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n  \t\t\t\t\t</button>\n  \t\t\t\t</div>\n  \t\t\t</div>\n  \t\t));\n  \t};\n   */\n  ////////////////////////////\n  // MANAGE ACTIVATION\n  ////////////////////////////\n\n  const handleActivateCourse = async (courseStatus, courseId) => {\n    const action = courseStatus ? \"Desactivar\" : \"Activar\";\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea ${action} este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: `${action}`,\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleCourseStatus(courseStatus, courseId);\n      }\n    });\n  };\n\n  const handleCourseStatus = async (courseStatus, courseId) => {\n    console.log(\"Course\", courseStatus, courseId);\n\n    if (courseStatus === true) {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}/${courseId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso desactivado con éxito!\",\n            text: `El curso ha sido desactivado exitosamente.`,\n            showConfirmButton: false,\n            timer: 1000\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        Swal.fire({\n          title: \"¡Error de procesamiento de activacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    } else {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}/${courseId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n\n        if (response.ok) {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"success\",\n            title: \"¡Curso activado con éxito!\",\n            text: `El curso ha sido activado exitosamente.`,\n            showConfirmButton: false,\n            timer: 2500\n          }).then(() => {\n            window.location.href = \"/administrar-todos\";\n          });\n        } else {\n          Swal.fire({\n            title: \"¡Ups! Algo salió mal\",\n            text: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n            icon: \"error\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          title: \"¡Error de procesamiento de desactivacion!\",\n          text: \"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n          icon: \"error\"\n        });\n      }\n    }\n  }; ////////////////////////////\n  // COURSE DELETE\n  ////////////////////////////\n\n\n  const handleDeleteCourse = async courseId => {\n    Swal.fire({\n      position: \"top-end\",\n      icon: \"success\",\n      title: \"¡Curso eliminado con éxito!\",\n      text: `El curso ha sido eliminado exitosamente.`,\n      showConfirmButton: false,\n      confirmButtonText: `${action}`,\n      timer: 2500\n    }).then(() => {\n      window.location.href = \"/administrar-todos\";\n    });\n  };\n\n  const handleDelete = courseId => {\n    Swal.fire({\n      title: \"Confirme Accion\",\n      text: `Esta seguro que desea eliminar este curso?`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Activate\",\n      cancelButtonText: \"Cancel\",\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        handleDeleteCourse(courseId);\n      }\n    });\n  }; ////////////////////////////\n  // REDIRECT TO MODIFY\n  ////////////////////////////\n\n\n  const handleModify = id => {\n    window.location.href = `/modify/${id}`;\n  };\n\n  const paginationComponentOptions = {\n    rowsPerPageText: \"Filas por página\",\n    rangeSeparatorText: \"de\",\n    selectAllRowsItem: true,\n    selectAllRowsItemText: \"Todos\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid table-container px-5 mt-3\",\n    children: /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: coursesData,\n      pagination: true,\n      theme: \"tradeTheme\",\n      responsive: true,\n      style: {\n        fontSize: \"18px\"\n      },\n      paginationComponentOptions: paginationComponentOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdminAllCourses, \"rTe3UdPM/fKIOsOpSHs1kZDz5jg=\");\n\n_c = AdminAllCourses;\nexport default AdminAllCourses;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminAllCourses\");","map":{"version":3,"sources":["/home/dresito/GitHub/Trade-Learn-Frontend/src/pages/admin-all-courses/AdminCourseSection.js"],"names":["React","useEffect","useState","Swal","DataTable","createTheme","AdminAllCourses","coursesData","setCoursesData","showCoursesData","response","fetch","process","env","REACT_APP_ROOT_URL","REACT_APP_COURSES_GET_ALL","data","json","console","log","columns","name","selector","row","courseData","minWidth","modules","length","duration","active","conditionalCellStyles","when","style","color","cell","handleActivateCourse","id","handleModify","handleDelete","ignoreRowClick","button","text","primary","secondary","background","default","context","divider","action","hover","disabled","courseStatus","courseId","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","handleCourseStatus","REACT_APP_COURSES_DEACTIVATE","method","headers","ok","position","showConfirmButton","timer","window","location","href","error","REACT_APP_COURSES_ACTIVATE","handleDeleteCourse","paginationComponentOptions","rowsPerPageText","rangeSeparatorText","selectAllRowsItem","selectAllRowsItemText","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport DataTable, { createTheme } from \"react-data-table-component\";\n\nconst AdminAllCourses = () => {\n\tconst [coursesData, setCoursesData] = useState([]);\n\n\tconst showCoursesData = async () => {\n\t\tconst response = await fetch(\n\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n\t\t);\n\t\tconst data = await response.json();\n\t\tconsole.log(data);\n\t\tsetCoursesData(data);\n\t};\n\n\tuseEffect(() => {\n\t\tshowCoursesData();\n\t}, []);\n\n\tconst columns = [\n\t\t{\n\t\t\tname: \"Nombre\",\n\t\t\tselector: (row) => row.courseData.name,\n\t\t\tminWidth: \"300px\",\n\t\t},\n\t\t{\n\t\t\tname: \"Modulos\",\n\t\t\tselector: (row) => row.courseData.modules.length,\n\t\t},\n\t\t{\n\t\t\tname: \"Duracion\",\n\t\t\tselector: (row) => `${row.courseData.duration} hs`,\n\t\t},\n\t\t{\n\t\t\tname: \"Estado\",\n\t\t\tselector: (row) => (row.active ? \"Activo\" : \"Inactivo\"),\n\t\t\tconditionalCellStyles: [\n\t\t\t\t{\n\t\t\t\t\twhen: (row) => !row.active,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: \"red\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twhen: (row) => row.active,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: \"green\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tname: \"Acciones\",\n\t\t\tcell: (row) => (\n\t\t\t\t<div className=\"\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn-status ${row.active ? \"btn-deactivate\" : \"btn-activate\"\n\t\t\t\t\t\t\t} me-2`}\n\t\t\t\t\t\tonClick={() => handleActivateCourse(row.active, row.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{row.active ? (\n\t\t\t\t\t\t\t<i className=\"toggle-off fa fa-power-off\"></i>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<i className=\"toggle-on fa fa-power-off\"></i>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-modify me-2\"\n\t\t\t\t\t\tonClick={() => handleModify(row.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-delete me-2\"\n\t\t\t\t\t\tonClick={() => handleDelete(row.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tignoreRowClick: true,\n\t\t\tbutton: true,\n\t\t\tminWidth: \"210px\",\n\t\t},\n\t];\n\n\tcreateTheme(\n\t\t\"tradeTheme\",\n\t\t{\n\t\t\ttext: {\n\t\t\t\tprimary: \"#333333\",\n\t\t\t\tsecondary: \"#ff5421\",\n\t\t\t},\n\t\t\tbackground: {\n\t\t\t\tdefault: \"#f0f0f0\",\n\t\t\t},\n\t\t\tcontext: {\n\t\t\t\tbackground: \"#ffae42\",\n\t\t\t\ttext: \"#000000\",\n\t\t\t},\n\t\t\tdivider: {\n\t\t\t\tdefault: \"#cccccc\",\n\t\t\t},\n\t\t\taction: {\n\t\t\t\tbutton: \"#ff5421\",\n\t\t\t\thover: \"#ff8c66\",\n\t\t\t\tdisabled: \"#999999\",\n\t\t\t},\n\t\t},\n\t\t\"light\"\n\t);\n\n/* \tconst customPaginationText = {\n\t\trowsPerPage: \"Filas por página\",\n\t};\n\n\tconst [fetchData, setFetchData] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(0);\n\tconst coursesPerPage = 9;\n\n\tuseEffect(() => {\n\t\tconst getCourses = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_GET_ALL}`\n\t\t\t\t);\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetFetchData(data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error fetching courses:\", error);\n\t\t\t}\n\t\t};\n\n\t\tgetCourses();\n\t}, []);\n */\n/* \tconst handlePageChange = ({ selected }) => {\n\t\twindow.scrollTo({\n\t\t\ttop: 250,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t\tsetCurrentPage(selected);\n\t};\n\n\tconst totalCourses = fetchData.length;\n\tconst pageCount = Math.ceil(totalCourses / coursesPerPage);\n\n\tconst renderCourses = () => {\n\t\tconst startIndex = currentPage * coursesPerPage;\n\t\tconst selectedCourses = fetchData.slice(\n\t\t\tstartIndex,\n\t\t\tstartIndex + coursesPerPage\n\t\t);\n\n\t\treturn selectedCourses.map((course) => (\n\t\t\t<div\n\t\t\t\tkey={course.id}\n\t\t\t\tclassName=\"course-item row align-items-center d-flex flex-wrap border rounded p-3 mb-3\"\n\t\t\t>\n\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-12 col-xs-12 d-flex align-items-center\">\n\t\t\t\t\t<p className=\"course-name text-start m-0\">\n\t\t\t\t\t\t<strong>{course.courseData.name}</strong>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-lg-3 col-md-3 col-sm-12 col-xs-12 d-flex justify-content-end align-items-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn-status  ${course.active ? \"btn-deactivate\" : \"btn-activate\"\n\t\t\t\t\t\t\t} me-2`}\n\t\t\t\t\t\tonClick={() => handleActivateCourse(course.active, course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{course.active ? (\n\t\t\t\t\t\t\t<i className=\"toggle-off fa fa-power-off\"></i>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<i className=\"toggle-on fa fa-power-off\"></i>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-modify me-2\"\n\t\t\t\t\t\tonClick={() => handleModify(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-edit\"></i>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn2 btn-delete me-2\"\n\t\t\t\t\t\tonClick={() => handleDelete(course.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n\t};\n */\n\t////////////////////////////\n\t// MANAGE ACTIVATION\n\t////////////////////////////\n\tconst handleActivateCourse = async (courseStatus, courseId) => {\n\t\tconst action = courseStatus ? \"Desactivar\" : \"Activar\";\n\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea ${action} este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: `${action}`,\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleCourseStatus(courseStatus, courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleCourseStatus = async (courseStatus, courseId) => {\n\t\tconsole.log(\"Course\", courseStatus, courseId);\n\n\t\tif (courseStatus === true) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_DEACTIVATE}/${courseId}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso desactivado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido desactivado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 1000,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo desactivar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de activacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`${process.env.REACT_APP_ROOT_URL}${process.env.REACT_APP_COURSES_ACTIVATE}/${courseId}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\tposition: \"top-end\",\n\t\t\t\t\t\ticon: \"success\",\n\t\t\t\t\t\ttitle: \"¡Curso activado con éxito!\",\n\t\t\t\t\t\ttext: `El curso ha sido activado exitosamente.`,\n\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\ttimer: 2500,\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: \"¡Ups! Algo salió mal\",\n\t\t\t\t\t\ttext: `Lo sentimos, no se pudo activar el curso en este momento. Por favor, inténtalo de nuevo más tarde`,\n\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: \"¡Error de procesamiento de desactivacion!\",\n\t\t\t\t\ttext:\n\t\t\t\t\t\t\"Parece que ocurrió un error mientras procesábamos tu solicitud. Por favor, inténtalo nuevamente más tarde. Si el problema persiste, ponte en contacto con el equipo de soporte para obtener asistencia adicional.\",\n\t\t\t\t\ticon: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\t////////////////////////////\n\t// COURSE DELETE\n\t////////////////////////////\n\tconst handleDeleteCourse = async (courseId) => {\n\t\tSwal.fire({\n\t\t\tposition: \"top-end\",\n\t\t\ticon: \"success\",\n\t\t\ttitle: \"¡Curso eliminado con éxito!\",\n\t\t\ttext: `El curso ha sido eliminado exitosamente.`,\n\t\t\tshowConfirmButton: false,\n\t\t\tconfirmButtonText: `${action}`,\n\t\t\ttimer: 2500,\n\t\t}).then(() => {\n\t\t\twindow.location.href = \"/administrar-todos\";\n\t\t});\n\t};\n\n\tconst handleDelete = (courseId) => {\n\t\tSwal.fire({\n\t\t\ttitle: \"Confirme Accion\",\n\t\t\ttext: `Esta seguro que desea eliminar este curso?`,\n\t\t\ticon: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Activate\",\n\t\t\tcancelButtonText: \"Cancel\",\n\t\t\treverseButtons: true,\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\thandleDeleteCourse(courseId);\n\t\t\t}\n\t\t});\n\t};\n\n\t////////////////////////////\n\t// REDIRECT TO MODIFY\n\t////////////////////////////\n\tconst handleModify = (id) => {\n\t\twindow.location.href = `/modify/${id}`;\n\t};\n\n\tconst paginationComponentOptions = {\n\t\trowsPerPageText: \"Filas por página\",\n\t\trangeSeparatorText: \"de\",\n\t\tselectAllRowsItem: true,\n\t\tselectAllRowsItemText: \"Todos\",\n\t};\n\n\treturn (\n\t\t<div className=\"container-fluid table-container px-5 mt-3\">\n\t\t\t<DataTable\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={coursesData}\n\t\t\t\tpagination\n\t\t\t\ttheme={\"tradeTheme\"}\n\t\t\t\tresponsive={true}\n\t\t\t\tstyle={{ fontSize: \"18px\" }}\n\t\t\t\tpaginationComponentOptions={paginationComponentOptions}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nexport default AdminAllCourses;\n\n\n"]},"metadata":{},"sourceType":"module"}